
/**
 * 
 * hxAri | index.js
 * 
 * @author hxAri
 * @github https://github.com/hxAri/hxAri
 * @license MIT
 * 
 * Copyright (c) 2022 Ari Setiawan | hxAri
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */

"use strict";

import { Fmt } from "../formatter";
import { Kernel, User } from "./kernel";
import { Router } from "../../routing";
import { ANSI, Shell } from "./shell";
import { Typed } from "../types";
import { UnixTime } from "../unixtime";

/**
 * Terminal banner
 * 
 * @type {Array<String>}
 */
const Banner = [
	"",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x2e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x2e\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x2e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x2e\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x2e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x2e\x20\x20\x20\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x32\x6d\x2e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x32\x6d\x2e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x38\x6d\x20\x20\x2e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x2e\x20\x20\x20\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x32\x6d\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x38\x6d\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x2e\x20\x20\x20\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x2e\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x2e\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x32\x6d\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x38\x6d\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x2e\x20\x20\x20\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x32\x6d\x2e\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x38\x6d\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x2e\x20\x20\x20\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x35\x30\x6d\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x32\x6d\x2e\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x2e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x38\x6d\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x2e\x20\x20\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x32\x6d\x2e\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x38\x6d\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x2e\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x2e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x32\x6d\x2e\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x38\x6d\x3a\x3a\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x2e\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x32\x6d\x2e\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x38\x6d\x3a\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x2e\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x32\x6d\x2e\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x3a\x3a\x3a\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x2e\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x2e\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x32\x6d\x2e\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x38\x6d\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x3a\x3a\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x2e\x20\x20\x20\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x2e\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x32\x6d\x2e\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x38\x6d\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x3a\x20\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x2e\x20\x20\x20\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x2e\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x32\x6d\x2e\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x38\x6d\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x20\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x2e\x20\x20\x20\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x2e\x3a\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x32\x6d\x2e\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x38\x6d\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x2e\x20\x20\x20\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x32\x6d\x2e\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x38\x6d\x2e\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x2e\x20\x20\x20\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x32\x6d\x2e\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x38\x6d\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x2e\x20\x20\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x20\x20\x20\x20\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x32\x6d\x2e\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x38\x6d\x2e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x38\x6d\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x2e\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x32\x6d\x3a\x3a\x3a\x2e\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x38\x6d\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x2e\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x38\x6d\x2e\x2e\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x34\x30\x6d\x3a\x3a\x3a\x3a\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x31\x37\x37\x6d\x5e\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x2e\x20\x20\x20\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x1b\x5b\x31\x3b\x33\x38\x3b\x35\x3b\x32\x33\x36\x6d\x3a\x3a\x3a\x3a\x3a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x7b\x7d",
	"\x1b\x5b\x31\x3b\x33\x31\x6d\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x7b\x7d",
	""
];

class Terminal {
	
	/** @type {Array<Array<String>} */
	aliases;
	
	/** @type {User} */
	hxari;
	
	/** @type {?HTMLInputElement|HTMLTextAreaElement} */
	input;
	
	/** @type {Kernel} */
	kernel;
	
	/** @type {Router} */
	router;
	
	/** @type {Shell} */
	shell;
	
	/** @type {?HTMLDivElement} */
	window;
	
	/**
	 * Construct method of class Terminal
	 *
	 * @param {?HTMLInputElement|HTMLTextAreaElement} input
	 * @param {Router} router
	 * @param {?HTMLDivElement} window
	 * 
	 */
	constructor( input, router, window ) {
		this.aliases = [
			[
				"\\x61\\x64\\x65\\x6c\\x69\\x61",
				"\\x65\\x63\\x68\\x6f\\x20\\x2d\\x65\\x20\\x22\\x61\\x64\\x65\\x6c\\x69\\x61\\x3a\\x20\\x49\\x20\\x6e\\x65\\x76\\x65\\x72\\x20\\x65\\x78\\x70\\x65\\x63\\x74\\x65\\x64\\x20\\x79\\x6f\\x75\\x72\\x20\\x61\\x72\\x72\\x69\\x76\\x61\\x6c\\x20\\x62\\x65\\x66\\x6f\\x72\\x65\\x3b\\x20\\x49\\x27\\x6d\\x20\\x71\\x75\\x69\\x74\\x65\\x20\\x69\\x6e\\x74\\x65\\x72\\x65\\x73\\x74\\x65\\x64\\x20\\x69\\x6e\\x20\\x79\\x6f\\x75\\x72\\x20\\x70\\x65\\x72\\x73\\x6f\\x6e\\x61\\x6c\\x69\\x74\\x79\\x3b\\x20\\x59\\x6f\\x75\\x27\\x72\\x65\\x20\\x61\\x6c\\x73\\x6f\\x20\\x61\\x20\\x63\\x72\\x79\\x65\\x72\\x2c\\x20\\x6c\\x69\\x6b\\x65\\x20\\x74\\x6f\\x20\\x65\\x78\\x70\\x65\\x72\\x69\\x6d\\x65\\x6e\\x74\\x20\\x6c\\x69\\x6b\\x65\\x20\\x62\\x61\\x6b\\x69\\x6e\\x67\\x20\\x61\\x6e\\x64\\x20\\x63\\x6f\\x6f\\x6b\\x69\\x6e\\x67\\x2c\\x20\\x6c\\x6f\\x76\\x69\\x6e\\x67\\x20\\x61\\x6e\\x64\\x20\\x63\\x61\\x72\\x69\\x6e\\x67\\x20\\x61\\x62\\x6f\\x75\\x74\\x20\\x65\\x76\\x65\\x72\\x79\\x6f\\x6e\\x65\\x27\\x73\\x20\\x68\\x65\\x61\\x6c\\x74\\x68\\x2c\\x20\\x70\\x72\\x65\\x66\\x65\\x72\\x20\\x77\\x65\\x61\\x72\\x69\\x6e\\x67\\x20\\x72\\x6f\\x62\\x65\\x73\\x20\\x70\\x65\\x72\\x68\\x61\\x70\\x73\\x3f\\x2c\\x2e\\x20\\x41\\x73\\x20\\x66\\x61\\x72\\x20\\x61\\x73\\x20\\x49\\x20\\x63\\x61\\x6e\\x20\\x73\\x65\\x65\\x2c\\x20\\x79\\x6f\\x75\\x72\\x20\\x69\\x6e\\x74\\x75\\x69\\x74\\x69\\x6f\\x6e\\x20\\x69\\x73\\x20\\x71\\x75\\x69\\x74\\x65\\x20\\x67\\x6f\\x6f\\x64\\x3b\\x20\\x49\\x20\\x68\\x6f\\x70\\x65\\x20\\x79\\x6f\\x75\\x72\\x20\\x61\\x72\\x72\\x69\\x76\\x61\\x6c\\x20\\x69\\x73\\x20\\x74\\x68\\x65\\x20\\x6c\\x61\\x73\\x74\\x20\\x66\\x6f\\x72\\x20\\x6d\\x65\\x22"
			],
			[
				"\\x63\\x68\\x69\\x6e\\x74\\x79\\x61",
				"\\x65\\x63\\x68\\x6f\\x20\\x2d\\x65\\x20\\x22\\x63\\x68\\x69\\x6e\\x74\\x79\\x61\\x3a\\x20\\x59\\x6f\\x75\\x20\\x61\\x72\\x65\\x20\\x62\\x65\\x61\\x75\\x74\\x69\\x66\\x75\\x6c\\x2c\\x20\\x63\\x75\\x74\\x65\\x2c\\x20\\x6b\\x69\\x6e\\x64\\x2c\\x20\\x77\\x68\\x69\\x74\\x65\\x2c\\x20\\x72\\x65\\x64\\x64\\x69\\x73\\x68\\x2c\\x20\\x73\\x6d\\x6f\\x6f\\x74\\x68\\x2c\\x20\\x73\\x6f\\x66\\x74\\x2c\\x20\\x62\\x75\\x74\\x20\\x61\\x6c\\x73\\x6f\\x20\\x76\\x65\\x72\\x79\\x20\\x61\\x6e\\x6e\\x6f\\x79\\x69\\x6e\\x67\\x3b\\x20\\x59\\x6f\\x75\\x20\\x6c\\x69\\x6b\\x65\\x20\\x73\\x6b\\x79\\x20\\x62\\x6c\\x75\\x65\\x3b\\x20\\x41\\x6e\\x64\\x20\\x79\\x6f\\x75\\x20\\x6c\\x69\\x6b\\x65\\x20\\x63\\x6c\\x65\\x61\\x72\\x20\\x73\\x6f\\x75\\x70\\x20\\x77\\x69\\x74\\x68\\x20\\x67\\x72\\x65\\x65\\x6e\\x20\\x73\\x70\\x69\\x6e\\x61\\x63\\x68\\x3b\\x20\\x49\\x20\\x72\\x65\\x61\\x6c\\x6c\\x79\\x20\\x72\\x65\\x61\\x6c\\x6c\\x79\\x20\\x6c\\x69\\x6b\\x65\\x20\\x79\\x6f\\x75\\x20\\x61\\x6e\\x64\\x20\\x77\\x68\\x69\\x6c\\x65\\x20\\x69\\x20\\x73\\x74\\x69\\x6c\\x20\\x6c\\x6f\\x76\\x65\\x20\\x79\\x6f\\x75\\x2c\\x20\\x62\\x75\\x74\\x20\\x73\\x6f\\x20\\x66\\x61\\x72\\x20\\x49\\x20\\x61\\x6d\\x20\\x6d\\x6f\\x72\\x65\\x20\\x64\\x6f\\x6d\\x69\\x6e\\x61\\x6e\\x74\\x20\\x74\\x68\\x61\\x6e\\x20\\x79\\x6f\\x75\\x20\\x61\\x6e\\x64\\x20\\x49\\x20\\x61\\x6d\\x20\\x61\\x6c\\x73\\x6f\\x20\\x64\\x69\\x73\\x61\\x70\\x70\\x6f\\x69\\x6e\\x74\\x65\\x64\\x20\\x77\\x69\\x74\\x68\\x20\\x79\\x6f\\x75\\x72\\x20\\x61\\x74\\x74\\x69\\x74\\x75\\x64\\x65\\x2c\\x20\\x74\\x74\\x27\\x73\\x20\\x6c\\x69\\x6b\\x65\\x20\\x79\\x6f\\x75\\x20\\x64\\x6f\\x6e\\x27\\x74\\x20\\x6d\\x61\\x6b\\x65\\x20\\x61\\x6e\\x79\\x20\\x65\\x66\\x66\\x6f\\x72\\x74\\x20\\x61\\x74\\x20\\x61\\x6c\\x6c\\x20\\x66\\x6f\\x72\\x20\\x6d\\x65\\x22"
			],
			[
				"\\x6c\\x69\\x61\\x6e\\x61",
				"\\x65\\x63\\x68\\x6f\\x20\\x2d\\x65\\x20\\x22\\x6c\\x69\\x61\\x6e\\x61\\x3a\\x20\\x52\\x65\\x6d\\x65\\x6d\\x62\\x65\\x72\\x2c\\x20\\x66\\x61\\x6c\\x6c\\x69\\x6e\\x67\\x20\\x69\\x6e\\x20\\x6c\\x6f\\x76\\x65\\x20\\x62\\x65\\x63\\x61\\x75\\x73\\x65\\x20\\x6f\\x66\\x20\\x66\\x61\\x69\\x74\\x68\\x20\\x69\\x73\\x20\\x6d\\x75\\x63\\x68\\x20\\x6d\\x6f\\x72\\x65\\x20\\x62\\x65\\x61\\x75\\x74\\x69\\x66\\x75\\x6c\\x20\\x74\\x68\\x61\\x6e\\x20\\x66\\x61\\x6c\\x6c\\x69\\x6e\\x67\\x20\\x69\\x6e\\x20\\x6c\\x6f\\x76\\x65\\x20\\x62\\x65\\x63\\x61\\x75\\x73\\x65\\x20\\x6f\\x66\\x20\\x6c\\x75\\x73\\x74\\x3b\\x20\\x59\\x6f\\x75\\x20\\x61\\x72\\x65\\x20\\x61\\x20\\x70\\x65\\x72\\x73\\x6f\\x6e\\x20\\x77\\x68\\x6f\\x20\\x63\\x72\\x69\\x65\\x73\\x20\\x65\\x61\\x73\\x69\\x6c\\x79\\x20\\x66\\x6f\\x72\\x20\\x6e\\x6f\\x20\\x72\\x65\\x61\\x73\\x6f\\x6e\\x2c\\x20\\x62\\x75\\x74\\x20\\x49\\x20\\x6b\\x6e\\x6f\\x77\\x20\\x79\\x6f\\x75\\x20\\x61\\x72\\x65\\x20\\x61\\x6c\\x73\\x6f\\x20\\x74\\x68\\x65\\x20\\x6d\\x6f\\x73\\x74\\x20\\x63\\x68\\x65\\x65\\x72\\x66\\x75\\x6c\\x20\\x70\\x65\\x72\\x73\\x6f\\x6e\\x20\\x49\\x20\\x6b\\x6e\\x6f\\x77\\x2e\\x3b\\x20\\x49\\x20\\x73\\x68\\x6f\\x75\\x6c\\x64\\x20\\x68\\x61\\x76\\x65\\x20\\x75\\x6e\\x64\\x65\\x72\\x73\\x74\\x6f\\x6f\\x64\\x20\\x79\\x6f\\x75\\x72\\x20\\x63\\x6f\\x64\\x65\\x20\\x66\\x72\\x6f\\x6d\\x20\\x74\\x68\\x65\\x20\\x73\\x74\\x61\\x72\\x74\\x3b\\x20\\x4f\\x6e\\x65\\x20\\x6d\\x6f\\x72\\x65\\x20\\x74\\x68\\x69\\x6e\\x67\\x2c\\x20\\x49\\x20\\x6d\\x69\\x73\\x73\\x20\\x79\\x6f\\x75\\x72\\x20\\x76\\x6f\\x69\\x63\\x65\\x22"
			]
		];
		this.input = input;
		this.kernel = new Kernel( router );
		if( this.kernel.vfs.isdir( "/home/hxari" ) ) {
			this.kernel.switch( "hxari" );
			this.hxari = this.kernel.user();
		}
		else {
			this.kernel.useradd( "hxari", {
				fullname: "hxAri",
				home: "/home/hxari",
				password: "hxari",
				shell: "/usr/bin/bash",
				user: this.kernel.root
			});
			this.kernel.switch( "hxari" );
			this.hxari = this.kernel.user();
			for( const aliased of this.aliases ) {
				this.kernel.vfs.append( "/home/hxari/.bash_aliases", { contents: Fmt( "\nalias -d 0 -o 0 $'{}'=\"{}\"", ...aliased.map( ( alias, index ) => index === 0 ? alias : alias.replaceAll( /\"/g, "\\\"" ) ) ), user: this.hxari } );
			}	
		}
		this.router = router;
		this.shell = new Shell( this.kernel );
		this.shell.stdout.register( "clear", function() {
			if( Typed( window, HTMLDivElement ) || Typed( window?.innerHTML, String ) ) {
				window.innerHTML = "";
			}
		});
		this.shell.stdout.register( "write", function( /** @type {String} */ contents ) {
			if( Typed( window, HTMLDivElement ) || Typed( window?.innerHTML, String ) ) {
				window.innerHTML+= contents.split( /\n/gm ).map( e => Fmt( "<label class=\"terminal-line-output dp-block\">{}</label>", new ANSI().render( e ) ) ).join( "" );
			}
		})
		this.window = window;
	}
	
	/**
	 * Execute given command
	 * 
	 * @param {String} command 
	 * 
	 * @returns {Promise<void>}
	 * 
	 */
	async exec( command ) {
		await this.shell.execute( command );
	}
	
	/** Render terminal PS1 into HTML format */
	ps1() {
		return this.shell.ansi.render( this.shell.ps1() );
	}
	
}

export {
	Banner,
	Terminal
};
